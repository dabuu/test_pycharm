<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
    <meta content="yes" name="apple-mobile-web-app-capable">
    <meta content="black" name="apple-mobile-web-app-status-bar-style">
    <meta content="telephone=no" name="format-detection">
    <title>$page_title</title>
    <script language="javascript" type="text/javascript" src="../jquery/jquery-1.11.1.min.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/main.css" />
</head>
<body>
    <div class="answer_result">
        这里显示结果。。
    </div>
    <form name="questions" method="post" action="">
        <div class="q_container">
            <div class="q_title">
                <label>测试题 A</label>
            </div>
            <p>题目是xXXXXXXXXXXXXXX</p>
            <ul>
                <li><input type="radio" value="1" name="A" id="A1"/><label for="A1"></label>A111</li>
                <li><input type="radio" value="2" name="A" id="A2"/><label for="A2"></label>A222</li>
                <li><input type="radio" value="3" name="A" id="A3"/><label for="A3"></label>A333</li>
                <li><input type="radio" value="4" name="A" id="A4"/><label for="A4"></label>A444</li>
            </ul>
            <div class="explain_container" align="center">
                <p class="explain" id="AE">这里显示 答案 和解释</p>
            </div>
        </div>
        <div class="q_container">
            <div class="q_title">
                <label>测试题 B</label>
            </div>
            <p>题目是xXXXXXXXXXXXXXX</p>
            <ul>
                <li><input type="checkbox" value="1" name="23[]" id="B1"/><label for="B1"></label>B111</li>
                <li><input type="checkbox" value="2" name="23[]" id="B2"/><label for="B2"></label>B222</li>
                <li><input type="checkbox" value="3" name="23[]" id="B3"/><label for="B3"></label>B333</li>
                <li><input type="checkbox" value="4" name="23[]" id="B4"/><label for="B4"></label>B444</li>
            </ul>
            <div class="explain_container" align="center">
                <p class="explain" id="BE">这里显示 答案 和解释</p>
            </div>
        </div>
        <input type="button" value="提交答案" name="submitanswer" id="submitanswer" disabled="disabled"/>
        <input type="hidden" value="user_db_id*22-1_23-0#11" name="info"/>
        <!--用结果用 二进制数+0 表示：bindec,decbin -->
    </form>
<div id="result">[test]</div>
</body>
<SCRIPT type="text/javascript">
    $(document).ready(function(){

        $(":radio").change(function(){
            is_submit_enable();
        });
        $(":checkbox").change(function(){
           is_submit_enable();
        });

        $("input#submitanswer").click(function(){
//            alert($("form:first").serialize());
////            提交 包括： 1. user_db_id
////            2. 所有的答案
//            $("form:first").submit();
//            return true;

            $.post(
                    "checkanswer.php",
                    $("form:first").serialize(),
                    function(data)
                    {
                        $("#result").after(data);
//                        var objs = eval("("+data+")");
//                        for(var key in objs)
//                        {
//                            var k = key;
//                            alert(key);
//                            alert(objs[k]);
//                            alert(objs[key]);
//                        }

//                        alert(objs.A);
//                        alert(objs.B.length);
//                        alert(objs.B[0]);
                        alert(objs[0]);

//                        alert(data.B[0]);


                    }
//http://www.cnblogs.com/ccdc/archive/2012/04/18/2455637.html
//            AJAX可以用JSON传值
//            比如PHP端一个数组是$arr
//            利用  echo  json_encode($arr)
//            在客户端用AJAX可以接收这个数组
            )

            //return true;
        });

        function is_submit_enable(){
            if($(":checked").length == 2){
                $("input[name=submitanswer]").removeAttr("disabled").css("background-color","orange");
            }
        }
    });
</SCRIPT>
</html>